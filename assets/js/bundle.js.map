{"version":3,"sources":["Dom.js","Map.js","Poll.js","Sparql.js"],"names":[],"mappings":"AAAA,IAAI,GAAG,GAAG,CAAC,YAAY;;;AAGrB,MAAI,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;AACzB,MAAI,aAAa,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;AACxC,MAAI,YAAY,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC;AACtC,MAAI,WAAW,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC;AACpC,MAAI,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;AAClC,MAAI,WAAW,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC;AACpC,MAAI,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;AAClC,MAAI,WAAW,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;AACnC,MAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC;;;AAAC,AAGvB,WAAS,KAAK,GAAG;;AAEf,UAAM,CAAC,KAAK,EAAE,CAAC;AACf,iBAAa,CAAC,KAAK,EAAE,CAAC;AACtB,gBAAY,CAAC,KAAK,EAAE,CAAC;AACrB,eAAW,CAAC,KAAK,EAAE,CAAC;AACpB,cAAU,CAAC,KAAK,EAAE,CAAC;AACnB,eAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AACpB,cAAU,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AACnB,eAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAC/B,eAAW,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AACvC,SAAK,IAAI,CAAC,IAAI,GAAG,CAAC,OAAO,EAAE;AACzB,SAAG,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;KACjC;AACD,OAAG,CAAC,OAAO,GAAG,EAAE,CAAC;GAClB;;AAED,WAAS,KAAK,CAAC,SAAS,EAAC;AACvB,QAAG,SAAS,KAAK,MAAM,EAAC;AACtB,WAAK,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AACxB,YAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC;AAC1B,gBAAU,CAAC,IAAI,EAAE,CAAC;KACnB,MAAM,IAAI,SAAS,KAAK,OAAO,EAAE;AAChC,WAAK,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;AAC3B,gBAAU,CAAC,IAAI,EAAE,CAAC;KACnB;GACF;;;AAAA,AAGD,GAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAY;;;AAG5B,KAAC,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,YAAY;AACnC,WAAK,CAAC,MAAM,CAAC,CAAC;KACf,CAAC;;;AAAC,AAGH,KAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,mBAAmB,EAAE,UAAU,KAAK,EAAE;;AAEjE,UAAI,OAAO,GAAG,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;;AAErC,aAAO,CACJ,OAAO,CAAC,YAAY,CAAC,CACrB,IAAI,CAAC,qBAAqB,CAAC,CAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CACpB,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CACzC,GAAG,EAAE,CACL,QAAQ,CAAC,kBAAkB,CAAC,CAC5B,QAAQ,CAAC,QAAQ,CAAC,CAAC;AACtB,aAAO,KAAK,CAAC;KACd,CAAC;;;AAAC,AAGH,cAAU,CAAC,IAAI,EAAE,CAAC;GAEnB,CAAC,CAAC;;AAEH,SAAO;AACL,SAAK,EAAE,KAAK;AACZ,SAAK,EAAE,KAAK;GACb,CAAC;CACH,CAAA,EAAG,CAAC;AC3EL,IAAI,GAAG,GAAG,CAAC,YAAY;;;AAGrB,MAAI,OAAO,GAAG,EAAE,CAAC;AACjB,MAAI,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;AACf,WAAO,EAAE,yBAAyB;AAClC,YAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;AAClB,cAAU,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;GACnB,CAAC,CAAC;AACH,MAAI,GAAG,GAAG,SAAS,EAAE,CAAC;;AAEtB,WAAS,SAAS,CAAC,MAAM,EAAE;AACzB,QAAI,CAAC,MAAM,EAAE;AACX,UAAI,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,GAAG,GAAG,EAAE;AAC3B,cAAM,GAAG,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;AAAC,OACpB,MAAM;AACL,gBAAM,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAAC,SACnB;KACF;AACD,WAAO,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE;AAClB,YAAM,EAAE,MAAM;AACd,UAAI,EAAE,CAAC;AACP,qBAAe,EAAE,KAAK;KACvB,CAAC,CAAC;GACJ;;;AAAA,AAGD,GAAC,CAAC,SAAS,CACT,qJAAqJ,EAAE;AACrJ,eAAW,EAAE,2DAA2D;GACzE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;;;AAAC,AAGhB,WAAS,MAAM,CAAC,IAAI,EAAE;;AAEpB,QAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;;AAAC,AAE5C,QAAI,MAAM,GAAG,CAAC,CAAC,MAAM,CACnB,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;AAChD,UAAI,EAAE,GAAG;AACT,WAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK;KACvB,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;;;AAAC,AAGhB,KAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,YAAY;AAC1B,UAAI,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;KAC3C,CAAC;;;AAAC,AAGH,WAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GACtB;;AAED,SAAO;;AAEL,UAAM,EAAE,MAAM;GACf,CAAC;CACH,CAAA,EAAG,CAAC;ACxDL,IAAI,IAAI,GAAG,CAAC,YAAY;;AAEtB,MAAI,QAAQ,GAAG,EAAE;;;AAAC,AAGlB,WAAS,QAAQ,GAAG;AAClB,QAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,QAAQ,EAAE;AACpC,cAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;AAChC,UAAI,GAAG,GAAG,4CAA4C,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;;AAEjF,OAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;AAChC,UAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACvB,WAAG,CAAC,KAAK,EAAE,CAAC;OACb,MAAM,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;AAC7B,cAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;OAC1B,MAAM,IAAI,QAAQ,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;AAC7B,cAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;OAC/B,MAAM;AACL,cAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;OACzB;KACF;GACF;;AAED,WAAS,OAAO,CAAC,IAAI,EAAE;AACrB,UAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;GAC3C;;AAED,GAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAY;;AAE5B,YAAQ,EAAE,CAAC;AACX,eAAW,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;GAE3B,CAAC,CAAC;;AAEH,SAAO;AACL,YAAQ,EAAE,QAAQ;AAClB,WAAO,EAAE,OAAO;GACjB,CAAC;CAEH,CAAA,EAAG,CAAC;ACvCL,IAAI,UAAU,GAAG,EAAC,MAAM,EAAE,EAAC,MAAM,EAAE,OAAO,EAAC,EAAC,CAAC;;AAE7C,IAAI,MAAM,GAAG,CAAC,YAAY;;;;;AAMxB,MAAI,QAAQ,GAAG,CAAC;;;;;;;;;;IAUd,CAAC;;;AAAC,AAGJ,MAAI,MAAM,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;AACjC,MAAI,aAAa,GAAG,CAAC,CAAC,gBAAgB,CAAC,CAAC;AACxC,MAAI,YAAY,GAAG,CAAC,CAAC,eAAe,CAAC,CAAC;AACtC,MAAI,WAAW,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC;AACpC,MAAI,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC;;;AAAC,AAGlC,WAAS,WAAW,CAAC,KAAK,EAAE,UAAU,EAAE;AACtC,QAAI,cAAc,GAAG,UAAU,IAAI,MAAM,GAAG,CAAC,QAAQ,GAAE,UAAU,EAAC,CAAC,GAAG,IAAI,CAAC;;AAE3E,WAAO,CAAC;MACN,GAAE,QAAQ,EAAC;;;cAGH,GAAE,cAAc,EAAC;;;;mCAII,GAAE,KAAK,EAAC;;;;;;;;mCAQR,GAAE,KAAK,EAAC;;;;;;;iCAOV,GAAE,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAC;;;;;;;;;mCAS3B,GAAE,KAAK,EAAC;;;;;;;IAOvC,CAAC,CAAC;GACH;;AAED,WAAS,WAAW,CAAC,MAAM,EAAE;AAC3B,WAAO,CAAC;MACN,GAAE,QAAQ,EAAC;;;;;;YAML,GAAE,MAAM,EAAC;;;;;;;;;YAST,GAAE,MAAM,EAAC;;;;;;;;0BAQK,GAAE,MAAM,EAAC;;;;;;;;IAQ/B,CAAC,CAAC;GACD;;AAEH,WAAS,UAAU,CAAC,KAAK,EAAE;;;AAGzB,WAAO,CAAC;MACN,GAAE,QAAQ,EAAC;;;;;;YAML,GAAE,KAAK,EAAC;;;;;;;;YAQR,GAAE,KAAK,EAAC;;;;;;MAMd,CAAC,CAAC;GACL;;AAED,WAAS,gBAAgB,CAAC,WAAW,EAAE;;;AAGrC,WAAO,CAAC;MACN,GAAE,QAAQ,EAAC;;;;UAIP,GAAE,WAAW,EAAC;;;;;;;UAOd,GAAE,WAAW,EAAC;;;;MAIlB,CAAC,CAAC;GACL;;;AAAA,AAGD,WAAS,YAAY,CAAC,IAAI,EAAE,KAAK,EAAE,UAAU,EAAE;AAC7C,QAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;AACpC,QAAI,eAAe,GAAG,UAAU,IAAI,MAAM,GAAG,CAAC,GAAE,UAAU,EAAC,CAAC,GAAG,EAAE;;;AAAC,AAGlE,QAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;AACxB,YAAM,CAAC,IAAI,CAAC,CAAC,4BAA4B,GAAE,KAAK,EAAC,IAAI,GAAE,eAAe,EAAC,0BAA0B,CAAC,CAAC,CAAC;KACrG,MAAM;AACL,YAAM,CAAC,IAAI,CAAC,CAAC,wBAAwB,GAAE,KAAK,EAAC,IAAI,GAAE,eAAe,EAAC,IAAI,CAAC,CAAC,CAAC;;AAE1E,mBAAa,CAAC,IAAI,CAAC,wCAAwC,CAAC,CAAC;AAC7D,kBAAY,CAAC,IAAI,CAAC,QAAQ,CAAC;;;AAAC,AAG5B,OAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;AAC3B,YAAI,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,kCAAkC,EAAE;AAC/D,qBAAW,CAAC,MAAM,CAAC,CAAC;;iDAEmB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,KAAK,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;;wFAEd,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;;UAEtG,CAAC,CAAC,CAAC;SACJ,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,uCAAuC,EAAE;AAC3E,oBAAU,CAAC,MAAM,CAAC,CAAC;+BACE,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;iDACN,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,MAAM,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;;uFAEhB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;;UAErG,CAAC,CAAC,CAAC;SACJ,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,wCAAwC,EAAE;AAC5E,aAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;SACxB;OACF,CAAC,CAAC;KACJ;GACF;;AAED,WAAS,YAAY,CAAC,IAAI,EAAE;AAC1B,QAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;;AAEpC,OAAG,CAAC,KAAK,EAAE,CAAC;AACZ,UAAM,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC;AACpD,gBAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC5B,iBAAa,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;;AAE1C,KAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;AAC3B,UAAI,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,uCAAuC,EAAE;AACpE,kBAAU,CAAC,MAAM,CAAC,CAAC;6BACE,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;+CACN,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAC,KAAK,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAC;;qFAEjB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAC;;QAEtG,CAAC,CAAC,CAAC;OACJ,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,kCAAkC,EAAE;AACtE,mBAAW,CAAC,MAAM,CAAC,CAAC;;+CAEmB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAC,KAAK,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,EAAC;;sFAEjB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAC;;QAEvG,CAAC,CAAC,CAAC;OACJ,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,wCAAwC,EAAE;AAC5E,WAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;OACxB;KACF,CAAC,CAAC;GACJ;;AAED,WAAS,WAAW,CAAC,IAAI,EAAE;;AAEzB,QAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;AACpC,OAAG,CAAC,KAAK,EAAE,CAAC;;AAEZ,UAAM,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,CAAC;AACrD,iBAAa,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;AACzC,gBAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;AAEhC,cAAU,CAAC,MAAM,CAAC,CAAC,iBAAiB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,CAAC;AACpE,cAAU,CAAC,MAAM,CAAC,CAAC,8BAA8B,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAC,eAAe,CAAC,CAAC,CAAC;AAC/F,cAAU,CAAC,MAAM,CAAC,CAAC,oBAAoB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC,CAAC;;AAEzE,KAAC,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE;AAC3B,UAAI,CAAC,GAAG,CAAC,EAAE;AACT,mBAAW,CAAC,MAAM,CAAC,CAAC;;+CAEmB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAC,KAAK,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC;;sFAElB,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAC;;QAE1G,CAAC,CAAC,CAAC;OACJ;KACF,CAAC,CAAC;GACJ;;AAED,WAAS,iBAAiB,CAAC,IAAI,EAAE;AAC/B,QAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;AACpC,OAAG,CAAC,KAAK,EAAE,CAAC;;AAEZ,QAAI,IAAI,GAAG,OAAO,CAAC;AACnB,UAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,EAAC,SAAS,CAAC,CAAC,CAAC;AACtD,iBAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC9B,gBAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;;AAEtC,cAAU,CAAC,MAAM,EAAE,CAAC;AACpB,cAAU,CAAC,MAAM,EAAE,CAAC;AACpB,cAAU,CAAC,MAAM,EAAE,CAAC;AACpB,cAAU,CAAC,MAAM,EAAE,CAAC;GACrB;;;AAAA,AAGD,WAAS,MAAM,CAAC,KAAK,EAAE,UAAU,EAAE;AACjC,KAAC,CAAC,OAAO,CAAC,SAAS,EAAE;AACnB,WAAK,EAAE,WAAW,CAAC,KAAK,EAAE,UAAU,CAAC;AACrC,YAAM,EAAE,MAAM;KACf,EAAE,UAAU,IAAI,EAAE;AACjB,kBAAY,CAAC,IAAI,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC;KACvC,CAAC,CAAC;GACJ;;AAED,WAAS,YAAY,CAAC,KAAK,EAAE,UAAU,EAAE;AACvC,KAAC,CAAC,OAAO,CAAC,SAAS,EAAE;AACnB,WAAK,EAAE,WAAW,CAAC,KAAK,EAAE,UAAU,CAAC;AACrC,YAAM,EAAE,MAAM;KACf,EAAE,UAAU,IAAI,EAAE;AACjB,kBAAY,CAAC,IAAI,CAAC,CAAC;KACpB,CAAC,CAAC;GACJ;;AAED,WAAS,WAAW,CAAC,KAAK,EAAE,UAAU,EAAE;AACtC,KAAC,CAAC,OAAO,CAAC,SAAS,EAAE;AACnB,WAAK,EAAE,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC;AACpC,YAAM,EAAE,MAAM;KACf,EAAE,UAAU,IAAI,EAAE;AACjB,iBAAW,CAAC,IAAI,CAAC,CAAC;KACnB,CAAC,CAAC;GACJ;;AAED,WAAS,iBAAiB,CAAC,KAAK,EAAE,UAAU,EAAE;AAC5C,KAAC,CAAC,OAAO,CAAC,SAAS,EAAE;AACnB,WAAK,EAAE,gBAAgB,CAAC,KAAK,EAAE,UAAU,CAAC;AAC1C,YAAM,EAAE,MAAM;KACf,EAAE,UAAU,IAAI,EAAE;AACjB,uBAAiB,CAAC,IAAI,CAAC,CAAC;KACzB,CAAC,CAAC;GACJ;;;AAAA,AAGD,WAAS,UAAU,GAAG;AACpB,KAAC,CAAC,OAAO,CAAC,mCAAmC,EAAE,UAAU,IAAI,EAAE;AAC7D,SAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB,kBAAY,CAAC,IAAI,CAAC,CAAC;KACpB,CAAC,CAAC;GACJ;;AAED,WAAS,UAAU,GAAG;AACpB,KAAC,CAAC,OAAO,CAAC,mCAAmC,EAAE,UAAU,IAAI,EAAE;AAC7D,SAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB,kBAAY,CAAC,IAAI,CAAC,CAAC;KACpB,CAAC,CAAC;GACJ;;AAED,WAAS,SAAS,GAAG;AACnB,KAAC,CAAC,OAAO,CAAC,kCAAkC,EAAE,UAAU,IAAI,EAAE;AAC5D,SAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB,iBAAW,CAAC,IAAI,CAAC,CAAC;KACnB,CAAC,CAAC;GACJ;;AAED,WAAS,eAAe,GAAG;AACzB,KAAC,CAAC,OAAO,CAAC,wCAAwC,EAAE,UAAU,IAAI,EAAE;AAClE,SAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB,uBAAiB,CAAC,IAAI,CAAC,CAAC;KACzB,CAAC,CAAC;GACJ;;;AAAA,AAGD,GAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAY;;;;AAI5B,KAAC,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,KAAK,EAAE;;AAE9C,WAAK,CAAC,cAAc,EAAE,CAAC;;AAEvB,UAAI,KAAK,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,GAAG,EAAE,CAAC;AACpC,UAAI,WAAW,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACtD,aAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,UAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,WAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB,cAAM,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;AAC3B,WAAG,CAAC,KAAK,EAAE,CAAC;OACb;KACF,CAAC,CAAC;;AAEH,KAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,KAAK,EAAE;;AAE7C,WAAK,CAAC,cAAc,EAAE,CAAC;;AAEvB,UAAI,KAAK,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE,CAAC;AACnC,aAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,UAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpB,WAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB,cAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACtB,WAAG,CAAC,KAAK,EAAE,CAAC;OACb;KACF,CAAC;;;AAAC,AAGH,KAAC,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK,EAAE;AACtC,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,gBAAU,EAAE,CAAC;KACd,CAAC,CAAC;AACH,KAAC,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,UAAU,KAAK,EAAE;AACrC,WAAK,CAAC,cAAc,EAAE,CAAC;AACvB,eAAS,EAAE,CAAC;KACb,CAAC,CAAC;GACJ,CAAC,CAAC;;AAGH,SAAO;;AAEL,UAAM,EAAE,MAAM;AACd,gBAAY,EAAE,YAAY;AAC1B,eAAW,EAAE,WAAW;AACxB,qBAAiB,EAAE,iBAAiB;;;AAGpC,cAAU,EAAE,UAAU;AACtB,cAAU,EAAE,UAAU;AACtB,aAAS,EAAE,SAAS;AACpB,mBAAe,EAAE,eAAe;GACjC,CAAC;CACH,CAAA,EAAG,CAAC","file":"bundle.js","sourcesContent":["var Dom = (function () {\n\n  // DOM CACHING\n  var $title = $('.title');\n  var $peopleHeader = $('.people-header');\n  var $paperHeader = $('.paper-header');\n  var $peopleList = $('.people-list');\n  var $paperList = $('.paper-list');\n  var $mainSearch = $('#main-search');\n  var $navSearch = $('#nav-search');\n  var $conference = $('#conference');\n  var $belt = $('.belt');\n\n  // clears all data off page\n  function clear() {\n\n    $title.empty();\n    $peopleHeader.empty();\n    $paperHeader.empty();\n    $peopleList.empty();\n    $paperList.empty();\n    $mainSearch.val('');\n    $navSearch.val('');\n    $conference.text('Conference');\n    $conference.attr('data-value', 'null');\n    for (var i in Map.markers) {\n      Map.removeLayer(Map.markers[i]);\n    }\n    Map.markers = [];\n  }\n\n  function slide(direction){\n    if(direction === 'left'){\n      $belt.css('left', '0%');\n      window.location.hash = '';\n      $navSearch.hide();\n    } else if (direction === 'right') {\n      $belt.css('left', '-100%');\n      $navSearch.show();\n    }\n  }\n\n  // DOM BINDINGS\n  $(document).ready(function () {\n\n    // onclick  for home page\n    $('.navbar-brand').click(function () {\n      slide('left');\n    });\n\n    // dropdown selects\n    $(document.body).on('click', '.dropdown-menu li', function (event) {\n      //event.preventDefault();\n      var $target = $(event.currentTarget);\n\n      $target\n        .closest('.btn-group')\n        .find('[data-bind=\"label\"]')\n        .text($target.text())\n        .attr('data-value', $target.data('value'))\n        .end()\n        .children('.dropdown-toggle')\n        .dropdown('toggle');\n      return false;\n    });\n\n    // initially hide navSearch\n    $navSearch.hide();\n\n  });\n\n  return {\n    clear: clear,\n    slide: slide\n  };\n})();\n","var Map = (function () {\n\n  // PRIVATE\n  var markers = [];\n  var pin = L.icon({\n    iconUrl: 'assets/icons/circle.png',\n    iconSize: [10, 10],\n    iconAnchor: [5, 5]\n  });\n  var map = createMap();\n\n  function createMap(center) {\n    if (!center) {\n      if ($(window).width() < 700) {\n        center = [40, -95]; // center on USA\n      } else {\n        center = [22, -7]; // center between North America and Europe\n      }\n    }\n    return L.map('map', {\n      center: center,\n      zoom: 2,\n      scrollWheelZoom: false\n    });\n  }\n\n  // might need to doc ready this\n  L.tileLayer(\n    'http://a.tiles.mapbox.com/v4/amaldare93.mbpl53l0/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiYW1hbGRhcmU5MyIsImEiOiJGdEFlcHpZIn0.0WX3tspKb0IXCJbdGMLmNQ', {\n      attribution: 'Map tiles by <a href=\"https://www.mapbox.com/\">Mapbox</a>'\n    }).addTo(map);\n\n  // CREATE MAP PIN\n  function setPin(data) {\n    // extract lat and long\n    var latlong = data.latlong.value.split(' ');\n    // create map marker\n    var marker = L.marker(\n      [parseFloat(latlong[0]), parseFloat(latlong[1])], {\n        icon: pin,\n        title: data.name.value\n      }).addTo(map);\n\n    // selectAffiliation\n    $(marker).click(function () {\n      Poll.setHash('<' + data.link.value + '>');\n    });\n\n    // push marker into array (for later deletion)\n    markers.push(marker);\n  }\n\n  return {\n    // API\n    setPin: setPin\n  };\n})();\n","var Poll = (function () {\n\n  var lastHash = '';\n\n  // checks hash and loads page accordingly\n  function pollHash() {\n    if (window.location.hash != lastHash) {\n      lastHash = window.location.hash;\n      var key = '<http://spatial.linkedscience.org/context/' + lastHash.slice(1) + '>';\n\n      $('.belt').css('left', '-100%');\n      if (lastHash.length < 2) {\n        Dom.clear();\n      } else if (lastHash[1] == 'p') {\n        Sparql.selectAuthor(key);\n      } else if (lastHash[2] == 'f') {\n        Sparql.selectAffiliation(key);\n      } else {\n        Sparql.selectPaper(key);\n      }\n    }\n  }\n\n  function setHash(hash) {\n    window.location.hash = hash.slice(42, -1);\n  }\n\n  $(document).ready(function () {\n\n    pollHash();\n    setInterval(pollHash, 10);\n\n  });\n\n  return {\n    pollHash: pollHash,\n    setHash: setHash\n  };\n\n})();\n","var testObject = {'book': {'name': 'hello'}};\n\nvar Sparql = (function () {\n\n  // gotto be a way to maybe use templating to fill in data instead of jquery appending everything\n\n\n  // PRIVATE\n  var prefixes = `\n    prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n    prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>\n    prefix dc: <http://purl.org/dc/terms/>\n    prefix bibo: <http://purl.org/ontology/bibo/>\n    prefix foaf: <http://xmlns.com/foaf/0.1/>\n    prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n    prefix spatial: <http://spatial.linkedscience.org/context/>\n    prefix key: <http://spatial.linkedscience.org/context/keyword/>\n    prefix ADR: <http://www.w3.org/2001/vcard-rdf/3.0#>\n    `;\n\n  // DOM CACHING\n  var $title = $('.results-title');\n  var $peopleHeader = $('.people-header');\n  var $paperHeader = $('.paper-header');\n  var $peopleList = $('.people-list');\n  var $paperList = $('.paper-list');\n\n  // generate SPARQL query strings\n  function searchQuery(input, conference) {\n    var conference_seg = conference != 'null' ? `spatial:${conference}` : '?g';\n\n    return `\n      ${prefixes}\n      SELECT DISTINCT ?type ?link ?name ?year ?latlong\n      {\n        GRAPH ${conference_seg}\n        {\n          {\n            ?link foaf:name ?name .\n              FILTER regex(?name, \"${input}\", \"i\")\n            ?link foaf:familyName ?lastName .\n            ?link rdf:type foaf:Person .\n            ?link rdf:type ?type .\n          }\n          UNION\n          {\n            ?link dc:title ?name .\n              FILTER regex(?name, \"${input}\", \"i\")\n            ?link dc:date ?year .\n            ?link rdf:type bibo:Chapter .\n            ?link rdf:type ?type .\n          }\n          UNION\n          {\n            ?link dc:subject key:${input.split(' ').join('_')} .\n            ?link dc:title ?title .\n            ?link dc:date ?year .\n            ?link rdf:type bibo:Chapter .\n            ?link rdf:type ?type .\n          }\n          UNION\n          {\n            ?link foaf:name ?name ;\n              FILTER regex(?name, \"${input}\", \"i\")\n            ?link geo:lat_long ?latlong .\n            ?link rdf:type foaf:Organization .\n            ?link rdf:type ?type .\n          }\n        }\n      }\n    `;\n  }\n\n  function authorQuery(author) {\n    return `\n      ${prefixes}\n      SELECT DISTINCT ?name ?paper ?title ?year ?knows ?coname ?type ?affiliation ?latlong\n      {\n        GRAPH ?g\n        {\n          {\n            ${author}\n              foaf:name ?name ;\n              foaf:publications ?paper .\n            ?paper dc:title ?title .\n            ?paper dc:date ?year .\n            ?paper rdf:type ?type .\n          }\n          UNION\n          {\n            ${author} foaf:knows ?knows .\n            ?knows foaf:name ?coname .\n            ?knows foaf:familyName ?lastName .\n            ?knows rdf:type ?type .\n          }\n          UNION\n          {\n            ?affiliation\n              foaf:member ${author} ;\n              foaf:name ?name ;\n              geo:lat_long ?latlong ;\n              rdf:type ?type .\n          }\n        }\n      }\n      ORDER BY DESC(?year) ?title ?lastName\n    `;\n    }\n\n  function paperQuery(paper) {\n    // need to get list of subjects without returning the same paper n times for each subject\n    //'dc:subject ?subject ; ' +\n    return `\n      ${prefixes}\n      SELECT DISTINCT ?title ?authors ?name ?coauthor ?year ?homepage ?partOf ?subject ?g\n      {\n        GRAPH ?g\n        {\n          {\n            ${paper}\n              dc:title ?title ;\n              dc:date ?year ;\n              foaf:homepage ?homepage ;\n              dc:partOf ?partOf .\n          }\n          UNION\n          {\n            ${paper} bibo:authorList ?list .\n            ?list rdf:rest*/rdf:first ?coauthor .\n            ?coauthor foaf:name ?name .\n          }\n        }\n      }\n      `;\n  }\n\n  function affiliationQuery(affiliation) {\n    // TODO: when searching for affiliations, return the locations themselves\n    // when selecting an affiliation (which is what this is), return all authors belonging, and all papers written at the place\n    return `\n      ${prefixes}\n      SELECT DISTINCT ?link ?name ?latlong ?location\n      {\n        {\n          ${affiliation}\n            foaf:name ?name ;\n            geo:lat_long ?latlong ;\n            ADR:ADR ?location .\n        }\n        UNION\n        {\n          ${affiliation} 'foaf:member ?members .\n          ?members foaf:name ?name .\n        }\n      }\n      `;\n  }\n\n  // Display results to page\n  function renderSearch(json, input, conference) {\n    var results = json.results.bindings;\n    var conference_part = conference != 'null' ? `${conference}` : '';\n\n    // No Results:\n    if (results.length === 0) {\n      $title.html(`There are no results for <b>${input} >> ${conference_part}</b>, try searching again.`);\n    } else {\n      $title.html(`Showing results for: <b>${input} >> ${conference_part}</b>`);\n\n      $peopleHeader.html('<span class=\"icon-user\">Authors</span>');\n      $paperHeader.html('Papers');\n\n      // fill page with data\n      $.each(results, function (i) {\n        if (results[i].type.value == 'http://xmlns.com/foaf/0.1/Person') {\n          $peopleList.append(`\n            <li class=\"author\">\n              <a href=\"javascript:Poll.setHash('<${results[i].link.value}>')\">${results[i].name.value}</a>\n              &nbsp;\n              <a class=\"rawdata\" target=\"_blank\" title=\"Raw data for this author\" href=\"${results[i].link.value}\">&rarr;</a>\n            </li>\n          `);\n        } else if (results[i].type.value == 'http://purl.org/ontology/bibo/Chapter') {\n          $paperList.append(`\n            <li class=\"paper\">(${results[i].year.value})\n              <a href=\"javascript:Poll.setHash('<${results[i].link.value}>')\"> ${results[i].name.value}</a>\n              &nbsp;\n              <a class=\"rawdata\" target=\"_blank\" title=\"Raw data for this paper\" href=\"${results[i].link.value}\">&rarr;</a>\n            </li>\n          `);\n        } else if (results[i].type.value == 'http://xmlns.com/foaf/0.1/Organization') {\n          Map.setPin(results[i]);\n        }\n      });\n    }\n  }\n\n  function renderAuthor(json) {\n    var results = json.results.bindings;\n\n    Dom.clear();\n    $title.html('<b>' + results[0].name.value + '</b>');\n    $paperHeader.html('Papers');\n    $peopleHeader.html('Co-authors/-editors');\n\n    $.each(results, function (i) {\n      if (results[i].type.value == 'http://purl.org/ontology/bibo/Chapter') {\n        $paperList.append(`\n          <li class=\"paper\">(${results[i].year.value})\n            <a href=\"javascript:Poll.setHash('<${results[i].paper.value}>')\">${results[i].title.value}</a>\n            &nbsp;\n            <a class=\"rawdata\" target=\"_blank\" title=\"Raw data for this paper\" href=\"${results[i].paper.value}\">&rarr;</a>\n          </li>\n        `);\n      } else if (results[i].type.value == 'http://xmlns.com/foaf/0.1/Person') {\n        $peopleList.append(`\n          <li class=\"author\">\n            <a href=\"javascript:Poll.setHash('<${results[i].knows.value}>')\">${results[i].coname.value}</a>\n            &nbsp;\n            <a class=\"rawdata\" target=\"_blank\" title=\"Raw data for this author\" href=\"${results[i].knows.value}\">&rarr;</a>\n          </li>\n        `);\n      } else if (results[i].type.value == 'http://xmlns.com/foaf/0.1/Organization') {\n        Map.setPin(results[i]);\n      }\n    });\n  }\n\n  function renderPaper(json) {\n\n    var results = json.results.bindings;\n    Dom.clear();\n\n    $title.html('<b>' + results[0].title.value + '</b>');\n    $peopleHeader.html('Authors/Co-authors');\n    $paperHeader.html('Paper Info');\n\n    $paperList.append(`<li><b>Year</b>: ${results[0].year.value}</li>`);\n    $paperList.append(`<li><b>Homepage</b>: <a href=\"${results[0].homepage.value}\">here</a></li>`);\n    $paperList.append(`<li><b>Part Of</b>: ${results[0].partOf.value}</li>`);\n\n    $.each(results, function (i) {\n      if (i > 0) {\n        $peopleList.append(`\n          <li class=\"author\">\n            <a href=\"javascript:Poll.setHash('<${results[i].coauthor.value}>')\">${results[i].name.value}</a>\n            &nbsp;\n            <a class=\"rawdata\" target=\"_blank\" title=\"Raw data for this author\" href=\"${results[i].coauthor.value}>&rarr;</a>\n          </li>\n        `);\n      }\n    });\n  }\n\n  function renderAffiliation(json) {\n    var results = json.results.bindings;\n    Dom.clear();\n\n    var data = results;\n    $title.html(`<strong>${data[0].name.value}</strong>`);\n    $peopleHeader.html('Members');\n    $paperHeader.html('Affiliation Info');\n\n    $paperList.append();\n    $paperList.append();\n    $paperList.append();\n    $paperList.append();\n  }\n\n  // Public\n  function search(input, conference) {\n    $.getJSON('/sparql', {\n      query: searchQuery(input, conference),\n      format: 'json'\n    }, function (json) {\n      renderSearch(json, input, conference);\n    });\n  }\n\n  function selectAuthor(input, conference) {\n    $.getJSON('/sparql', {\n      query: authorQuery(input, conference),\n      format: 'json'\n    }, function (json) {\n      renderAuthor(json);\n    });\n  }\n\n  function selectPaper(input, conference) {\n    $.getJSON('/sparql', {\n      query: paperQuery(input, conference),\n      format: 'json'\n    }, function (json) {\n      renderPaper(json);\n    });\n  }\n\n  function selectAffiliation(input, conference) {\n    $.getJSON('/sparql', {\n      query: affiliationQuery(input, conference),\n      format: 'json'\n    }, function (json) {\n      renderAffiliation(json);\n    });\n  }\n\n  // Render Offline Test Data\n  function testSearch() {\n    $.getJSON('./dev/testData/sample-search.json', function (json) {\n      Dom.slide('right');\n      renderSearch(json);\n    });\n  }\n\n  function testAuthor() {\n    $.getJSON('./dev/testData/sample-author.json', function (json) {\n      Dom.slide('right');\n      renderAuthor(json);\n    });\n  }\n\n  function testPaper() {\n    $.getJSON('./dev/testData/sample-paper.json', function (json) {\n      Dom.slide('right');\n      renderPaper(json);\n    });\n  }\n\n  function testAffiliation() {\n    $.getJSON('./dev/testData/sample-affiliation.json', function (json) {\n      Dom.slide('right');\n      renderAffiliation(json);\n    });\n  }\n\n  // DOM BINDINGS\n  $(document).ready(function () {\n\n    // TODO: implement both search bars\n    // SEARCH BAR\n    $('#main-form').bind('submit', function (event) {\n      // stops form submission\n      event.preventDefault();\n\n      var $text = $('#main-search').val();\n      var $conference = $('.conference').attr('data-value');\n      console.log($text);\n      if ($text.length > 1) {\n        Dom.slide('right');\n        search($text, $conference);\n        Dom.clear();\n      }\n    });\n\n    $('#nav-form').bind('submit', function (event) {\n      // stops form submission\n      event.preventDefault();\n\n      var $text = $('#nav-search').val();\n      console.log($text);\n      if ($text.length > 1) {\n        Dom.slide('right');\n        search($text, 'null');\n        Dom.clear();\n      }\n    });\n\n    // bind test functions to buttons\n    $('#testAuthor').click(function (event) {\n      event.preventDefault();\n      testAuthor();\n    });\n    $('#testPaper').click(function (event) {\n      event.preventDefault();\n      testPaper();\n    });\n  });\n\n\n  return {\n    // API\n    search: search,\n    selectAuthor: selectAuthor,\n    selectPaper: selectPaper,\n    selectAffiliation: selectAffiliation,\n\n    // Testing\n    testSearch: testSearch,\n    testAuthor: testAuthor,\n    testPaper: testPaper,\n    testAffiliation: testAffiliation\n  };\n})();\n"],"sourceRoot":"/source/"}